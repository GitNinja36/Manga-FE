# ğŸ§  Manga-BE â€” AI-Powered Manga Marketplace (Backend)

![GitHub](https://img.shields.io/github/repo-size/GitNinja36/Manga-BE)
![Tech](https://img.shields.io/badge/Built%20With-Node.js%20%7C%20Express%20%7C%20MongoDB%20%7C%20HuggingFace%20%7C%20Stripe-blueviolet)
![License](https://img.shields.io/github/license/GitNinja36/Manga-BE)

### ğŸ”— GitHub Repo: [Manga-BE](https://github.com/GitNinja36/Manga-BE)

---

## ğŸš€ Project Overview

**Manga-BE** is the backend API for a full-stack AI-powered e-commerce platform where users can **buy and sell manga books**.
It supports powerful, real-world features such as:

* ğŸ§  **AI-generated manga summaries** (via HuggingFace Inference API)
* ğŸ’³ **Stripe-powered secure payments**
* ğŸ” **JWT Authentication with role-based access**
* ğŸ–¼ï¸ **Cloudinary for image & file uploads**
* â†» **RESTful APIs for books, users, orders, reviews, and authentication**

---

## ğŸ”‘ Key Features

### âœ… AI Summary Generation

* Powered by HuggingFace's `facebook/bart-large-cnn` model
* Dynamically summarizes manga using title, genre, and description
* Smart prompt: simulates a top bookseller crafting a sales-focused pitch

### ğŸ“š Book Management API

* Full CRUD operations for books
* Accepts cover + additional images, and PDF manga files
* Summary auto-generated by AI for sellers

### ğŸ” User Authentication

* JWT-based auth flow
* Login & Signup APIs
* Role-based access (admin, seller, buyer)
* Auth middleware to protect sensitive routes

### ğŸ’¬ Reviews & Ratings

* Add ratings/comments to any manga book
* Fetch aggregated review data
* Structured schema for scalability

### ğŸ’³ Stripe Checkout Integration

* Dynamically create checkout sessions for each book
* Handles webhook/payment flow (extendable)
* Secure key management with `.env`

### â˜ï¸ Cloudinary Upload System

* Upload and manage book cover images and PDFs
* Modular upload utility (`cloudinary.js`)

---

## ğŸ§  Folder Structure

```
Manga-BE/
â”œâ”€â”€ controllers/
â”‚   â”œâ”€â”€ authController.js
â”‚   â”œâ”€â”€ bookController.js
â”‚   â”œâ”€â”€ paymentController.js
â”‚   â””â”€â”€ reviewController.js
â”œâ”€â”€ middleware/
â”‚   â””â”€â”€ authMiddleware.js
â”œâ”€â”€ routers/
â”‚   â”œâ”€â”€ auth.js
â”‚   â”œâ”€â”€ books.js
â”‚   â”œâ”€â”€ payments.js
â”‚   â””â”€â”€ ai.js
â”œâ”€â”€ utils/
â”‚   â”œâ”€â”€ cloudinary.js
â”‚   â””â”€â”€ ai.js
â”œâ”€â”€ config/
â”‚   â””â”€â”€ db.js
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ User.js
â”‚   â””â”€â”€ Book.js
â”œâ”€â”€ server.js
â””â”€â”€ .env
```

---

## âš™ï¸ Tech Stack

| Technology  | Role                     |
| ----------- | ------------------------ |
| Node.js     | Backend Runtime          |
| Express.js  | API Framework            |
| MongoDB     | Database                 |
| Cloudinary  | File/Image Uploads       |
| HuggingFace | AI-Powered Summarization |
| Stripe      | Payment Integration      |
| JWT         | Auth & Authorization     |
| Axios       | API Requests             |
| dotenv      | Secure Config            |

---

## ğŸ” Environment Variables

Create a `.env` file in the project root:

```env
PORT=8080
MONGO_URI=your_mongo_connection_string
JWT_SECRET=your_jwt_secret
CLOUDINARY_CLOUD_NAME=your_cloud_name
CLOUDINARY_API_KEY=your_api_key
CLOUDINARY_API_SECRET=your_api_secret
STRIPE_SECRET_KEY=your_stripe_secret_key
HF_API_TOKEN=your_huggingface_token
```

---

## ğŸ” API Endpoints

| Method | Endpoint                    | Description                     |
| ------ | --------------------------- | ------------------------------- |
| POST   | `/auth/signup`              | Register a new user             |
| POST   | `/auth/login`               | Login and get JWT token         |
| POST   | `/book/add`                 | Add a new book with AI summary  |
| GET    | `/book/all`                 | Get all available manga books   |
| POST   | `/payment/checkout-session` | Start Stripe checkout session   |
| POST   | `/generate-summary`         | Generate manga summary using AI |
| POST   | `/review/:bookId`           | Submit review for a manga       |

---

## ğŸ§  AI Summary Prompt Strategy

```text
Consider yourself the best bookseller in the world. You MUST write a compelling manga description in 2â€“3 lines that will make people want to read it instantly â€” or risk losing your business.
```

* Model used: `facebook/bart-large-cnn`
* Result: crisp, human-like summaries focused on marketing impact

---

## ğŸ§ª Testing the API

### Start the server:

```bash
npm install
npm run dev
```

### Then use Postman or the frontend repo [Manga-FE](https://github.com/GitNinja36/Manga-FE) to test.

---

## ğŸ“¦ Related Repositories

| Project             | Repository                                         |
| ------------------- | -------------------------------------------------- |
| ğŸ’» Frontend (React) | [Manga-FE](https://github.com/GitNinja36/Manga-FE) |

---

## ğŸ’¼ Recruiterâ€™s Note

This project showcases real-world backend engineering skills:

* âœ… Modular REST API design using Express
* âœ… HuggingFace integration (AI prompt + secure token headers)
* âœ… End-to-end Stripe payment implementation
* âœ… JWT authentication with RBAC structure
* âœ… Cloud file/image upload system using Cloudinary

> If you're looking for a developer who can build production-ready, intelligent, and scalable backend systems â€” this is hands-on proof of that.

---

## ğŸ“œ License

Licensed under the MIT License.

---

**Made with â¤ï¸ by [Rohit Kumar](https://github.com/GitNinja36)**

